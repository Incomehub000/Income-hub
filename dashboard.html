<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° - INCOME HUB</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .dashboard-container {
            max-width: 1200px;
            margin: 80px auto 20px;
            padding: 20px;
        }
        
        .user-welcome {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .coin-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #f39c12;
        }
        
        .referral-link-box {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #4CAF50;
        }
        
        .referral-link {
            background: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            border: 1px dashed #4CAF50;
            word-break: break-all;
        }
        
        .copy-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .income-breakdown {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .income-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .income-source {
            font-weight: bold;
        }
        
        .income-amount {
            color: #f39c12;
            font-weight: bold;
        }
        
        .sidebar {
            position: fixed;
            left: 0;
            top: 60px;
            width: 250px;
            height: calc(100vh - 60px);
            background: #2c3e50;
            color: white;
            padding: 20px 0;
            overflow-y: auto;
        }
        
        .sidebar-menu {
            list-style: none;
            padding: 0;
        }
        
        .sidebar-menu li {
            padding: 0;
        }
        
        .sidebar-menu a {
            display: block;
            color: white;
            text-decoration: none;
            padding: 15px 25px;
            transition: background 0.3s;
            border-bottom: 1px solid #34495e;
        }
        
        .sidebar-menu a:hover {
            background: #34495e;
        }
        
        .main-content {
            margin-left: 250px;
            padding: 20px;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .menu-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .menu-card:hover {
            transform: translateY(-5px);
        }
        
        .premium-badge {
            background: gold;
            color: black;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .logout-btn {
            background: #e74c3c;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h2><a href="index.html" style="color: white; text-decoration: none;">INCOME HUB</a></h2>
            </div>
            <div class="nav-buttons">
                <button class="btn login-btn" onclick="logout()">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
            </div>
        </div>
    </nav>

    <!-- ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶®‡ßÅ -->
    <div class="sidebar">
        <ul class="sidebar-menu">
            <li><a href="dashboard.html">üè† ‡¶π‡ßã‡¶Æ ‡¶™‡ßá‡¶ú</a></li>
            <li><a href="tasks.html">üìã ‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</a></li>
            <li><a href="premium.html">‚≠ê ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</a></li>
            <li><a href="withdraw.html">üí≥ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</a></li>
            <li><a href="referral.html">üë• ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</a></li>
            <li><a href="income.html">üí∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a></li>
            <li><a href="profile.html">üë§ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</a></li>
        </ul>
    </div>

    <!-- ‡¶Æ‡ßÇ‡¶≤ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
    <div class="main-content">
        <div class="dashboard-container">
            <div class="user-welcome">
                <h1 id="welcomeMessage">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</h1>
                <p id="userStatus">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ú‡¶æ‡¶∞‡ßç‡¶®‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>üí∞ ‡¶Æ‡ßã‡¶ü ‡¶ï‡¶Ø‡¶º‡ßá‡¶®</h3>
                    <div class="coin-amount" id="totalCoins">0</div>
                    <p>‡¶ï‡¶Ø‡¶º‡ßá‡¶®</p>
                </div>
                
                <div class="stat-card">
                    <h3>üë• ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤</h3>
                    <div class="coin-amount" id="totalReferrals">0</div>
                    <p>‡¶ú‡¶® ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá</p>
                </div>
                
                <div class="stat-card">
                    <h3>üéØ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶°</h3>
                    <div class="coin-amount" id="referralCode" style="font-size: 1.2rem;">REF000000</div>
                    <p>‡¶è‡¶á ‡¶ï‡ßã‡¶° ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>

                <div class="stat-card">
                    <h3>‚≠ê ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</h3>
                    <div class="coin-amount" id="accountStatus" style="font-size: 1.2rem; color: #667eea;">‡¶´‡ßç‡¶∞‡¶ø</div>
                    <p id="premiumInfo">‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
            </div>

            <!-- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
            <div class="referral-link-box">
                <h3>üîó ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï</h3>
                <p>‡¶è‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶Ü‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ß®‡ß¶ ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®!</p>
                <div class="referral-link" id="referralLink">
                    ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...
                </div>
                <button class="copy-btn" onclick="copyReferralLink()">‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>

            <!-- ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶¨‡ßç‡¶∞‡ßá‡¶ï‡¶°‡¶æ‡¶â‡¶® -->
            <div class="income-breakdown">
                <h3>üìä ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</h3>
                <div id="incomeBreakdown">
                    <!-- JavaScript ‡¶¶‡¶ø‡ßü‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                </div>
            </div>
            
            <div class="menu-grid">
                <div class="menu-card" onclick="window.location.href='tasks.html'">
                    <h3>üìã ‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</h3>
                    <p>‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶ï‡¶∞‡ßá ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                
                <div class="menu-card" onclick="window.location.href='premium.html'">
                    <h3>‚≠ê ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</h3>
                    <p>‡ßß‡ß®‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
                
                <div class="menu-card" onclick="window.location.href='referral.html'">
                    <h3>üë• ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                    <p>‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶™‡¶æ‡¶®</p>
                </div>
                
                <div class="menu-card" onclick="window.location.href='withdraw.html'">
                    <h3>üí≥ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶†‡¶æ‡¶®</h3>
                    <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶°
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!currentUser) {
                alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!');
                window.location.href = 'login.html';
                return;
            }
            
            // ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            updateDashboard(currentUser);
            updateIncomeBreakdown(currentUser);
            updateReferralLink(currentUser);
        });

        function updateDashboard(user) {
            document.getElementById('welcomeMessage').textContent = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${user.fullName}!`;
            document.getElementById('totalCoins').textContent = user.coins || 0;
            document.getElementById('totalReferrals').textContent = user.totalReferrals || 0;
            document.getElementById('referralCode').textContent = user.referralCode;
            
            // ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏
            const isPremium = user.premium || false;
            const accountStatus = document.getElementById('accountStatus');
            const userStatus = document.getElementById('userStatus');
            const premiumInfo = document.getElementById('premiumInfo');
            
            if (isPremium) {
                accountStatus.innerHTML = '‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ <span class="premium-badge">‚≠ê</span>';
                accountStatus.style.color = '#FFD700';
                userStatus.textContent = '‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞!';
                premiumInfo.textContent = '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º';
                premiumInfo.style.color = 'green';
            } else {
                accountStatus.textContent = '‡¶´‡ßç‡¶∞‡¶ø';
                accountStatus.style.color = '#667eea';
                userStatus.textContent = '‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®!';
                premiumInfo.innerHTML = '<button onclick="window.location.href=\'premium.html\'" style="background: #f39c12; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">‡¶Ü‡¶™‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</button>';
            }
        }

        function updateReferralLink(user) {
            const referralLink = `https://incomehub000.github.io/Income-hub/register.html?ref=${user.referralCode}`;
            document.getElementById('referralLink').textContent = referralLink;
        }

        function updateIncomeBreakdown(user) {
            const incomeBreakdown = document.getElementById('incomeBreakdown');
            const incomeData = user.incomeHistory || [
                { source: '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶¨‡ßã‡¶®‡¶æ‡¶∏', amount: 100, date: new Date().toLocaleDateString('bn-BD') },
                { source: '‡¶´‡ßç‡¶∞‡¶ø ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï', amount: 50, date: new Date().toLocaleDateString('bn-BD') },
                { source: '‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏', amount: 20, date: new Date().toLocaleDateString('bn-BD') }
            ];

            let html = '';
            incomeData.forEach(income => {
                html += `
                    <div class="income-item">
                        <div>
                            <span class="income-source">${income.source}</span>
                            <br><small>${income.date}</small>
                        </div>
                        <span class="income-amount">+${income.amount} ‡¶ï‡¶Ø‡¶º‡ßá‡¶®</span>
                    </div>
                `;
            });

            // ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ
            const totalIncome = incomeData.reduce((sum, income) => sum + income.amount, 0);
            html += `
                <div class="income-item" style="border-top: 2px solid #f39c12; margin-top: 10px; padding-top: 15px;">
                    <span class="income-source" style="font-size: 1.1rem;">‡¶Æ‡ßã‡¶ü ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</span>
                    <span class="income-amount" style="font-size: 1.1rem;">${totalIncome} ‡¶ï‡¶Ø‡¶º‡ßá‡¶®</span>
                </div>
            `;

            incomeBreakdown.innerHTML = html;
        }

        function copyReferralLink() {
            const referralLink = document.getElementById('referralLink').textContent;
            navigator.clipboard.writeText(referralLink).then(function() {
                alert('‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶è‡¶ñ‡¶® ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            }).catch(function() {
                alert('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            });
        }

        function logout() {
            localStorage.removeItem('currentUser');
            alert('‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶∏‡¶´‡¶≤!');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
