<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü - INCOME HUB</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .admin-container { display: flex; min-height: 100vh; }
        .admin-sidebar { width: 280px; background: linear-gradient(135deg, #2c3e50, #34495e); color: white; position: fixed; height: 100vh; overflow-y: auto; z-index: 1000; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
        .admin-sidebar-header { padding: 25px 20px; text-align: center; border-bottom: 1px solid #40566b; background: rgba(255,255,255,0.05); }
        .admin-sidebar-header h2 { margin: 0; font-size: 1.5rem; color: #e74c3c; }
        .admin-sidebar-header p { margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.8; }
        .admin-sidebar-menu { list-style: none; padding: 0; margin: 0; }
        .admin-sidebar-menu li { border-bottom: 1px solid #40566b; }
        .admin-sidebar-menu a { display: flex; align-items: center; color: white; text-decoration: none; padding: 18px 25px; transition: all 0.3s; border-left: 4px solid transparent; }
        .admin-sidebar-menu a:hover { background: rgba(231, 76, 60, 0.1); border-left-color: #e74c3c; padding-left: 30px; }
        .admin-sidebar-menu a.active { background: rgba(231, 76, 60, 0.2); border-left-color: #e74c3c; color: #e74c3c; }
        .admin-menu-icon { margin-right: 15px; font-size: 1.3rem; width: 25px; text-align: center; }
        .admin-main-content { flex: 1; margin-left: 280px; padding: 0; background: #f8f9fa; min-height: 100vh; }
        .admin-top-bar { background: white; padding: 20px 30px; box-shadow: 0 2px 15px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 999; }
        .admin-content-area { padding: 30px; }
        .page-header { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px 30px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .user-controls { display: grid; grid-template-columns: 1fr auto auto; gap: 15px; margin-bottom: 25px; align-items: center; }
        .search-box { position: relative; }
        .search-box input { width: 100%; padding: 12px 45px 12px 15px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; }
        .search-box input:focus { border-color: #667eea; outline: none; }
        .search-icon { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666; }
        .filter-btn, .export-btn { background: white; border: 2px solid #ddd; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; display: flex; align-items: center; gap: 8px; }
        .filter-btn:hover, .export-btn:hover { border-color: #667eea; color: #667eea; }
        .users-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .user-card { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.08); transition: transform 0.3s; border: 1px solid #e9ecef; }
        .user-card:hover { transform: translateY(-5px); }
        .user-header { display: flex; align-items: center; margin-bottom: 15px; }
        .user-avatar { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; font-weight: bold; margin-right: 15px; }
        .user-info h3 { margin: 0 0 5px 0; color: #333; }
        .user-info p { margin: 0; color: #666; font-size: 0.9rem; }
        .user-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        .stat-item { text-align: center; padding: 8px; background: #f8f9fa; border-radius: 8px; }
        .stat-value { font-weight: bold; color: #e74c3c; font-size: 1.1rem; }
        .stat-label { font-size: 0.8rem; color: #666; }
        .user-actions { display: flex; gap: 8px; margin-top: 15px; }
        .action-btn { flex: 1; padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.8rem; font-weight: 600; transition: all 0.3s; }
        .btn-view { background: #3498db; color: white; }
        .btn-edit { background: #f39c12; color: white; }
        .btn-deactivate { background: #e74c3c; color: white; }
        .action-btn:hover { opacity: 0.9; transform: translateY(-2px); }
        .status-active { background: #2ecc71; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
        .status-inactive { background: #95a5a6; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
        .users-table { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08); margin-top: 30px; }
        .table-header { background: linear-gradient(135deg, #2c3e50, #34495e); color: white; padding: 20px; display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr; gap: 15px; font-weight: bold; }
        .table-row { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr; gap: 15px; padding: 15px 20px; border-bottom: 1px solid #eee; align-items: center; }
        .table-row:hover { background: #f8f9fa; }
        .table-row:last-child { border-bottom: none; }
        .pagination { display: flex; justify-content: center; gap: 10px; margin-top: 30px; }
        .page-btn { padding: 8px 15px; border: 1px solid #ddd; background: white; border-radius: 6px; cursor: pointer; transition: all 0.3s; }
        .page-btn.active { background: #667eea; color: white; border-color: #667eea; }
        .page-btn:hover:not(.active) { border-color: #667eea; color: #667eea; }
    </style>
</head>
<body>
    <div class="admin-container">
        <div class="admin-sidebar">
            <div class="admin-sidebar-header">
                <h2>INCOME HUB</h2>
                <p>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</p>
            </div>
            <ul class="admin-sidebar-menu">
                <li><a href="admin-dashboard.html"><span class="admin-menu-icon">üìä</span> ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</a></li>
                <li><a href="admin-users.html" class="active"><span class="admin-menu-icon">üë•</span> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</a></li>
                <li><a href="admin-staff.html"><span class="admin-menu-icon">üëë</span> ‡¶∏‡ßç‡¶ü‡¶æ‡¶´ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</a></li>
                <li><a href="admin-tasks.html"><span class="admin-menu-icon">üìã</span> ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</a></li>
                <li><a href="admin-deposits.html"><span class="admin-menu-icon">üí∞</span> ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü</a></li>
                <li><a href="admin-withdrawals.html"><span class="admin-menu-icon">üí≥</span> ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü</a></li>
                <li><a href="admin-reports.html"><span class="admin-menu-icon">üìà</span> ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶∏</a></li>
                <li><a href="admin-settings.html"><span class="admin-menu-icon">‚öôÔ∏è</span> ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</a></li>
                <li><a href="javascript:void(0)" onclick="adminLogout()"><span class="admin-menu-icon">üö™</span> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</a></li>
            </ul>
        </div>
        
        <div class="admin-main-content">
            <div class="admin-top-bar">
                <div class="website-name">
                    <span>INCOME HUB</span>
                    <span style="font-size: 1rem; opacity: 0.7;">- ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</span>
                </div>
                <div class="user-info">
                    <span id="adminWelcome">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                    <span class="role-badge" id="adminRoleBadge">‡¶è‡¶°‡¶Æ‡¶ø‡¶®</span>
                </div>
            </div>
            
            <div class="page-header">
                <h1 style="margin: 0 0 10px 0; font-size: 2rem;">üë• ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü</h1>
                <p style="margin: 0; font-size: 1.1rem; opacity: 0.9;">‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            </div>
            
            <div class="admin-content-area">
                <div class="user-controls">
                    <div class="search-box">
                        <input type="text" id="userSearch" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <button class="filter-btn" onclick="showFilters()"><span>üîß</span> ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞</button>
                    <button class="export-btn" onclick="exportUsers()"><span>üì§</span> ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü</button>
                </div>
                
                <div class="users-grid" id="usersGrid"></div>
                
                <div class="users-table">
                    <div class="table-header">
                        <div>‡¶á‡¶â‡¶ú‡¶æ‡¶∞</div>
                        <div>‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</div>
                        <div>‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</div>
                        <div>‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü</div>
                        <div>‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</div>
                        <div>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</div>
                    </div>
                    <div id="usersTable"></div>
                </div>
                
                <div class="pagination" id="pagination"></div>
            </div>
        </div>
    </div>

    <script>
        const COIN_RATE = 10;
        
        document.addEventListener('DOMContentLoaded', function() {
            const currentAdmin = JSON.parse(localStorage.getItem('currentAdmin'));
            if (!currentAdmin) {
                alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!');
                window.location.href = 'admin-login.html';
                return;
            }
            updateAdminData(currentAdmin);
            loadUsersData();
        });
        
        function updateAdminData(admin) {
            document.getElementById('adminWelcome').textContent = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${admin.fullName}!`;
            const roleNames = {
                'super_admin': '‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®',
                'admin': '‡¶è‡¶°‡¶Æ‡¶ø‡¶®',
                'moderator': '‡¶Æ‡¶°‡¶æ‡¶∞‡ßá‡¶ü‡¶∞',
                'support': '‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü'
            };
            const roleBadge = document.getElementById('adminRoleBadge');
            roleBadge.textContent = roleNames[admin.role] || admin.role;
            roleBadge.className = `role-badge role-${admin.role}`;
        }
        
        function loadUsersData() {
            const users = JSON.parse(localStorage.getItem('incomeHubUsers') || '[]');
            const usersGrid = document.getElementById('usersGrid');
            const usersTable = document.getElementById('usersTable');
            
            let gridHtml = '';
            users.forEach(user => {
                const firstLetter = user.name ? user.name.charAt(0).toUpperCase() : 'U';
                const statusClass = user.status === 'active' ? 'status-active' : 'status-inactive';
                const statusText = user.status === 'active' ? '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º' : '‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º';
                
                gridHtml += `
                    <div class="user-card">
                        <div class="user-header">
                            <div class="user-avatar">${firstLetter}</div>
                            <div class="user-info">
                                <h3>${user.name || '‡¶®‡¶æ‡¶Æ ‡¶®‡ßá‡¶á'}</h3>
                                <p>${user.email || '‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶®‡ßá‡¶á'}</p>
                                <span class="${statusClass}">${statusText}</span>
                            </div>
                        </div>
                        <div class="user-stats">
                            <div class="stat-item">
                                <div class="stat-value">${user.balance || 0}</div>
                                <div class="stat-label">‡¶ï‡¶Ø‡¶º‡ßá‡¶®</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${(user.balance || 0) / COIN_RATE}</div>
                                <div class="stat-label">‡¶ü‡¶æ‡¶ï‡¶æ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${user.completedTasks || 0}</div>
                                <div class="stat-label">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${user.totalWithdrawn || 0}</div>
                                <div class="stat-label">‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</div>
                            </div>
                        </div>
                        <div class="user-actions">
                            <button class="action-btn btn-view" onclick="viewUser('${user.id}')">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                            <button class="action-btn btn-edit" onclick="editUser('${user.id}')">‡¶è‡¶°‡¶ø‡¶ü</button>
                            <button class="action-btn btn-deactivate" onclick="toggleUserStatus('${user.id}')">
                                ${user.status === 'active' ? '‡¶°‡¶ø‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡ßá‡¶ü' : '‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡ßá‡¶ü'}
                            </button>
                        </div>
                    </div>
                `;
            });
            
            usersGrid.innerHTML = gridHtml || '<p style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</p>';
            
            let tableHtml = '';
            users.forEach(user => {
                const statusClass = user.status === 'active' ? 'status-active' : 'status-inactive';
                const statusText = user.status === 'active' ? '‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º' : '‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º';
                
                tableHtml += `
                    <div class="table-row">
                        <div>
                            <strong>${user.name || '‡¶®‡¶æ‡¶Æ ‡¶®‡ßá‡¶á'}</strong><br>
                            <small>${user.email || '‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶®‡ßá‡¶á'}</small>
                        </div>
                        <div>${user.balance || 0} ‡¶ï‡¶Ø‡¶º‡ßá‡¶®</div>
                        <div>${user.completedTasks || 0}</div>
                        <div>${user.totalDeposited || 0} ‡¶ü‡¶æ‡¶ï‡¶æ</div>
                        <div><span class="${statusClass}">${statusText}</span></div>
                        <div>
                            <button class="action-btn btn-view" onclick="viewUser('${user.id}')">‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                            <button class="action-btn btn-edit" onclick="editUser('${user.id}')">‡¶è‡¶°‡¶ø‡¶ü</button>
                        </div>
                    </div>
                `;
            });
            
            usersTable.innerHTML = tableHtml || '<div class="table-row" style="text-align: center; color: #666; padding: 40px;">‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</div>';
        }
        
        function viewUser(userId) {
            alert(`‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ID: ${userId} ‡¶è‡¶∞ ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶∏ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá`);
        }
        
        function editUser(userId) {
            alert(`‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ID: ${userId} ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá`);
        }
        
        function toggleUserStatus(userId) {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                const users = JSON.parse(localStorage.getItem('incomeHubUsers') || '[]');
                const userIndex = users.findIndex(u => u.id === userId);
                if (userIndex !== -1) {
                    users[userIndex].status = users[userIndex].status === 'active' ? 'inactive' : 'active';
                    localStorage.setItem('incomeHubUsers', JSON.stringify(users));
                    loadUsersData();
                    alert('‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
                }
            }
        }
        
        function showFilters() {
            alert('‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá');
        }
        
        function exportUsers() {
            alert('‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
        }
        
        function adminLogout() {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                localStorage.removeItem('currentAdmin');
                alert('‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶∏‡¶´‡¶≤!');
                window.location.href = 'admin-login.html';
            }
        }
        
        document.getElementById('userSearch').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
        });
    </script>
</body>
</html>
