<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рж╕рзНржЯрж╛ржл ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ - INCOME HUB</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="admin-container">
        <div class="admin-sidebar">
            <div class="admin-sidebar-header">
                <h2>INCOME HUB</h2>
                <p>ржПржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓</p>
            </div>
            <ul class="admin-sidebar-menu">
                <li><a href="admin-dashboard.html"><span class="admin-menu-icon">ЁЯУК</span> ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</a></li>
                <li><a href="admin-users.html"><span class="admin-menu-icon">ЁЯСе</span> ржЗржЙржЬрж╛рж░ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</a></li>
                <li><a href="admin-staff.html" class="active"><span class="admin-menu-icon">ЁЯСС</span> рж╕рзНржЯрж╛ржл ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</a></li>
                <li><a href="admin-tasks.html"><span class="admin-menu-icon">ЁЯУЛ</span> ржЯрж╛рж╕рзНржХ рж░рж┐ржнрж┐ржЙ</a></li>
                <li><a href="admin-deposits.html"><span class="admin-menu-icon">ЁЯТ░</span> ржбрж┐ржкрзЛржЬрж┐ржЯ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ</a></li>
                <li><a href="admin-withdrawals.html"><span class="admin-menu-icon">ЁЯТ│</span> ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ</a></li>
                <li><a href="admin-reports.html"><span class="admin-menu-icon">ЁЯУИ</span> рж░рж┐ржкрзЛрж░рзНржЯрж╕</a></li>
                <li><a href="admin-settings.html"><span class="admin-menu-icon">тЪЩя╕П</span> рж╕рзЗржЯрж┐ржВрж╕</a></li>
                <li><a href="javascript:void(0)" onclick="adminLogout()"><span class="admin-menu-icon">ЁЯЪк</span> рж▓ржЧржЖржЙржЯ</a></li>
            </ul>
        </div>
        
        <div class="admin-main-content">
            <div class="admin-top-bar">
                <div class="website-name">
                    <span>INCOME HUB</span>
                    <span style="font-size: 1rem; opacity: 0.7;">- рж╕рзНржЯрж╛ржл ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</span>
                </div>
                <div class="user-info">
                    <span id="adminWelcome">рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</span>
                    <span class="role-badge" id="adminRoleBadge">ржПржбржорж┐ржи</span>
                </div>
            </div>
            
            <div class="admin-content-area">
                <h2>ЁЯСС рж╕рзНржЯрж╛ржл ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</h2>
                <button class="admin-submit-btn" onclick="createStaff()" style="margin-bottom: 20px;">тЮХ ржирждрзБржи рж╕рзНржЯрж╛ржл рждрзИрж░рж┐ ржХрж░рзБржи</button>
                <div id="staffList">
                    <!-- рж╕рзНржЯрж╛ржл рж▓рж┐рж╕рзНржЯ ржПржЦрж╛ржирзЗ рж▓рзЛржб рж╣ржмрзЗ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentAdmin = JSON.parse(localStorage.getItem('currentAdmin'));
            if (!currentAdmin) {
                alert('ржжржпрж╝рж╛ ржХрж░рзЗ ржкрзНрж░ржержорзЗ ржПржбржорж┐ржи рж▓ржЧржЗржи ржХрж░рзБржи!');
                window.location.href = 'admin-login.html';
                return;
            }
            updateAdminData(currentAdmin);
            loadStaff();
        });
        
        function updateAdminData(admin) {
            document.getElementById('adminWelcome').textContent = `рж╕рзНржмрж╛ржЧрждржо, ${admin.fullName}!`;
            const roleBadge = document.getElementById('adminRoleBadge');
            roleBadge.textContent = admin.role === 'super_admin' ? 'рж╕рзБржкрж╛рж░ ржПржбржорж┐ржи' : 'ржПржбржорж┐ржи';
            roleBadge.className = `role-badge role-${admin.role}`;
        }
        
        function loadStaff() {
            const staff = JSON.parse(localStorage.getItem('adminAccounts') || '[]');
            const staffList = document.getElementById('staffList');
            
            let html = '<div class="admin-table">';
            html += '<div class="admin-table-header"><div>ржирж╛ржо</div><div>ржЗржЙржЬрж╛рж░ржирзЗржо</div><div>рж░рзЛрж▓</div><div>рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕</div><div>ржЕрзНржпрж╛ржХрж╢ржи</div></div>';
            
            staff.forEach(staffMember => {
                if (staffMember.role !== 'super_admin') {
                    html += `
                        <div class="admin-table-row">
                            <div>${staffMember.fullName}</div>
                            <div>${staffMember.username}</div>
                            <div><span class="role-badge role-${staffMember.role}">${staffMember.role}</span></div>
                            <div><span class="admin-status-badge admin-status-approved">рж╕ржХрзНрж░рж┐ржпрж╝</span></div>
                            <div>
                                <button class="admin-btn admin-btn-view">ржжрзЗржЦрзБржи</button>
                                <button class="admin-btn admin-btn-approve">ржПржбрж┐ржЯ</button>
                            </div>
                        </div>
                    `;
                }
            });
            
            html += '</div>';
            staffList.innerHTML = html || '<p>ржХрзЛржирзЛ рж╕рзНржЯрж╛ржл ржорзЗржорзНржмрж╛рж░ ржирзЗржЗ</p>';
        }
        
        function createStaff() {
            const username = prompt('ржирждрзБржи рж╕рзНржЯрж╛ржлрзЗрж░ ржЗржЙржЬрж╛рж░ржирзЗржо:');
            const password = prompt('ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб:');
            const fullName = prompt('ржкрзБрж░рзЛ ржирж╛ржо:');
            
            if (username && password && fullName) {
                const staff = JSON.parse(localStorage.getItem('adminAccounts') || '[]');
                staff.push({
                    id: 'staff_' + Date.now(),
                    username: username,
                    password: password,
                    fullName: fullName,
                    role: 'moderator',
                    status: 'active',
                    createdDate: new Date().toISOString()
                });
                localStorage.setItem('adminAccounts', JSON.stringify(staff));
                alert('ржирждрзБржи рж╕рзНржЯрж╛ржл рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ!');
                loadStaff();
            }
        }
        
        function adminLogout() {
            if (confirm('ржЖржкржирж┐ ржХрж┐ ржПржбржорж┐ржи рж▓ржЧржЖржЙржЯ ржХрж░рждрзЗ ржЪрж╛ржи?')) {
                localStorage.removeItem('currentAdmin');
                alert('ржПржбржорж┐ржи рж▓ржЧржЖржЙржЯ рж╕ржлрж▓!');
                window.location.href = 'admin-login.html';
            }
        }
    </script>
</body>
</html>
