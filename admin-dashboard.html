<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° - INCOME HUB</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .admin-container {
            display: flex;
            min-height: 100vh;
        }
        
        .admin-sidebar {
            width: 280px;
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transition: all 0.3s;
            z-index: 1000;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }
        
        .admin-sidebar-header {
            padding: 25px 20px;
            text-align: center;
            border-bottom: 1px solid #40566b;
            background: rgba(255,255,255,0.05);
        }
        
        .admin-sidebar-header h2 {
            margin: 0;
            font-size: 1.5rem;
            color: #e74c3c;
        }
        
        .admin-sidebar-header p {
            margin: 5px 0 0 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .admin-sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .admin-sidebar-menu li {
            border-bottom: 1px solid #40566b;
        }
        
        .admin-sidebar-menu a {
            display: flex;
            align-items: center;
            color: white;
            text-decoration: none;
            padding: 18px 25px;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }
        
        .admin-sidebar-menu a:hover {
            background: rgba(231, 76, 60, 0.1);
            border-left-color: #e74c3c;
            padding-left: 30px;
        }
        
        .admin-sidebar-menu a.active {
            background: rgba(231, 76, 60, 0.2);
            border-left-color: #e74c3c;
            color: #e74c3c;
        }
        
        .admin-menu-icon {
            margin-right: 15px;
            font-size: 1.3rem;
            width: 25px;
            text-align: center;
        }
        
        .admin-main-content {
            flex: 1;
            margin-left: 280px;
            padding: 0;
            background: #f8f9fa;
            min-height: 100vh;
        }
        
        .admin-top-bar {
            background: white;
            padding: 20px 30px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 999;
        }
        
        .admin-welcome-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 25px 30px;
            margin: 0;
            text-align: center;
        }
        
        .admin-content-area {
            padding: 30px;
        }
        
        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .admin-stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s;
            border: 1px solid #e9ecef;
        }
        
        .admin-stat-card:hover {
            transform: translateY(-5px);
        }
        
        .admin-stat-card h3 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 0.95rem;
            font-weight: 600;
        }
        
        .admin-stat-number {
            font-size: 2.2rem;
            font-weight: bold;
            color: #e74c3c;
            margin: 12px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .action-btn {
            background: white;
            color: #2c3e50;
            padding: 25px 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            font-weight: 600;
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #e74c3c;
            color: #e74c3c;
        }
        
        .pending-requests {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
        }
        
        .admin-badge {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
            font-size: 0.8rem;
            box-shadow: 0 2px 5px rgba(231, 76, 60, 0.3);
        }
        
        .role-badge {
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .role-super-admin { background: #e74c3c; color: white; }
        .role-admin { background: #3498db; color: white; }
        .role-moderator { background: #f39c12; color: white; }
        .role-support { background: #9b59b6; color: white; }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ -->
        <div class="admin-sidebar" id="adminSidebar">
            <div class="admin-sidebar-header">
                <h2>INCOME HUB</h2>
                <p>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</p>
            </div>
            
            <ul class="admin-sidebar-menu">
                <li><a href="admin-dashboard.html" class="active">
                    <span class="admin-menu-icon">üìä</span> ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°
                </a></li>
                
                <li><a href="admin-users.html">
                    <span class="admin-menu-icon">üë•</span> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
                </a></li>
                
                <li><a href="admin-staff.html">
                    <span class="admin-menu-icon">üëë</span> ‡¶∏‡ßç‡¶ü‡¶æ‡¶´ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü
                </a></li>
                
                <li><a href="admin-tasks.html">
                    <span class="admin-menu-icon">üìã</span> ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â
                </a></li>
                
                <li><a href="admin-deposits.html">
                    <span class="admin-menu-icon">üí∞</span> ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü
                </a></li>
                
                <li><a href="admin-withdrawals.html">
                    <span class="admin-menu-icon">üí≥</span> ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü
                </a></li>
                
                <li><a href="admin-reports.html">
                    <span class="admin-menu-icon">üìà</span> ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü‡¶∏
                </a></li>
                
                <li><a href="admin-settings.html">
                    <span class="admin-menu-icon">‚öôÔ∏è</span> ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
                </a></li>
                
                <li><a href="javascript:void(0)" onclick="adminLogout()">
                    <span class="admin-menu-icon">üö™</span> ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
                </a></li>
            </ul>
        </div>
        
        <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
        <div class="admin-main-content">
            <!-- ‡¶ü‡¶™ ‡¶¨‡¶æ‡¶∞ -->
            <div class="admin-top-bar">
                <div class="website-name">
                    <span>INCOME HUB</span>
                    <span style="font-size: 1rem; opacity: 0.7;">- ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</span>
                </div>
                
                <div class="user-info">
                    <span id="adminWelcome">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
                    <span class="role-badge" id="adminRoleBadge">‡¶è‡¶°‡¶Æ‡¶ø‡¶®</span>
                </div>
            </div>
            
            <!-- ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ -->
            <div class="admin-welcome-box">
                <h1 id="welcomeMessage" style="margin: 0 0 10px 0; font-size: 2rem;">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h1>
                <p id="adminStatus" style="margin: 0; font-size: 1.1rem; opacity: 0.9;">‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ì ‡¶Æ‡¶®‡¶ø‡¶ü‡¶∞‡¶ø‡¶Ç</p>
            </div>
            
            <!-- ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ -->
            <div class="admin-content-area">
                <!-- ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶∏ ‡¶ó‡ßç‡¶∞‡¶ø‡¶° -->
                <div class="admin-stats-grid">
                    <div class="admin-stat-card">
                        <h3>üë• ‡¶Æ‡ßã‡¶ü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞</h3>
                        <div class="admin-stat-number" id="totalUsers">0</div>
                        <p>‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø</p>
                    </div>
                    <div class="admin-stat-card">
                        <h3>üí∞ ‡¶Æ‡ßã‡¶ü ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü</h3>
                        <div class="admin-stat-number" id="totalDeposits">0</div>
                        <p>‡¶ü‡¶æ‡¶ï‡¶æ</p>
                    </div>
                    <div class="admin-stat-card">
                        <h3>üí≥ ‡¶Æ‡ßã‡¶ü ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</h3>
                        <div class="admin-stat-number" id="totalWithdrawals">0</div>
                        <p>‡¶ü‡¶æ‡¶ï‡¶æ</p>
                    </div>
                    <div class="admin-stat-card">
                        <h3>üìà ‡¶ü‡ßÅ‡¶°‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</h3>
                        <div class="admin-stat-number" id="todayIncome">0</div>
                        <p>‡¶ï‡¶Ø‡¶º‡ßá‡¶®</p>
                    </div>
                </div>
                
                <!-- ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü -->
                <div class="pending-requests">
                    <h3>‚è≥ ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>üìã ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶®</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #f39c12;" id="pendingTasks">0</div>
                            <p>‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>üí∞ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #3498db;" id="pendingDeposits">0</div>
                            <p>‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>üí≥ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü</h4>
                            <div style="font-size: 1.5rem; font-weight: bold; color: #e74c3c;" id="pendingWithdrawals">0</div>
                            <p>‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç</p>
                        </div>
                    </div>
                </div>
                
                <!-- ‡¶ï‡ßÅ‡¶á‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®‡¶∏ -->
                <div class="quick-actions">
                    <div class="action-btn" onclick="window.location.href='admin-users.html'">
                        üë• ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú
                    </div>
                    <div class="action-btn" onclick="window.location.href='admin-staff.html'">
                        üëë ‡¶∏‡ßç‡¶ü‡¶æ‡¶´ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
                    </div>
                    <div class="action-btn" onclick="window.location.href='admin-tasks.html'">
                        üìã ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â
                    </div>
                    <div class="action-btn" onclick="window.location.href='admin-deposits.html'">
                        üí∞ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú
                    </div>
                    <div class="action-btn" onclick="window.location.href='admin-withdrawals.html'">
                        üí≥ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú
                    </div>
                    <div class="action-btn" onclick="window.location.href='admin-reports.html'">
                        üìà ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
                    </div>
                </div>
                
                <!-- ‡¶∞‡¶ø‡¶∏‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø -->
                <div style="background: white; padding: 25px; border-radius: 15px; margin: 30px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                    <h3 style="margin-bottom: 20px; color: #333;">üïí ‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø</h3>
                    <div id="recentActivity">
                        <!-- ‡¶∞‡¶ø‡¶∏‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® ‡¶∞‡ßá‡¶ü (‡ßß‡ß¶ ‡¶ï‡¶Ø‡¶º‡ßá‡¶® = ‡ßß ‡¶ü‡¶æ‡¶ï‡¶æ)
        const COIN_RATE = 10;

        // ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        document.addEventListener('DOMContentLoaded', function() {
            const currentAdmin = JSON.parse(localStorage.getItem('currentAdmin'));
            
            if (!currentAdmin) {
                alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®!');
                window.location.href = 'admin-login.html';
                return;
            }
            
            updateAdminData(currentAdmin);
            loadDashboardStats();
            loadRecentActivity();
        });
        
        // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        function updateAdminData(admin) {
            document.getElementById('adminWelcome').textContent = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${admin.fullName}!`;
            document.getElementById('welcomeMessage').textContent = `‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ, ${admin.fullName}!`;
            
            const roleNames = {
                'super_admin': '‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶è‡¶°‡¶Æ‡¶ø‡¶®',
                'admin': '‡¶è‡¶°‡¶Æ‡¶ø‡¶®',
                'moderator': '‡¶Æ‡¶°‡¶æ‡¶∞‡ßá‡¶ü‡¶∞',
                'support': '‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü'
            };
            
            const roleBadge = document.getElementById('adminRoleBadge');
            roleBadge.textContent = roleNames[admin.role] || admin.role;
            roleBadge.className = `role-badge role-${admin.role}`;
            
            document.getElementById('adminStatus').textContent = 
                `${roleNames[admin.role]} - ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü`;
        }
        
        // ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶∏ ‡¶≤‡ßã‡¶°
        function loadDashboardStats() {
            const users = JSON.parse(localStorage.getItem('incomeHubUsers') || '[]');
            const depositRequests = JSON.parse(localStorage.getItem('depositRequests') || '[]');
            const withdrawRequests = JSON.parse(localStorage.getItem('withdrawRequests') || '[]');
            const taskSubmissions = JSON.parse(localStorage.getItem('adminTaskSubmissions') || '[]');
            
            // ‡¶Æ‡ßã‡¶ü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞
            document.getElementById('totalUsers').textContent = users.length;
            
            // ‡¶Æ‡ßã‡¶ü ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü
            const totalDeposit = depositRequests
                .filter(d => d.status === 'approved')
                .reduce((sum, d) => sum + d.amount, 0);
            document.getElementById('totalDeposits').textContent = totalDeposit;
            
            // ‡¶Æ‡ßã‡¶ü ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞
            const totalWithdraw = withdrawRequests
                .filter(w => w.status === 'approved')
                .reduce((sum, w) => sum + (w.finalAmount || coinsToMoney(w.coins)), 0);
            document.getElementById('totalWithdrawals').textContent = totalWithdraw.toFixed(2);
            
            // ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü
            document.getElementById('pendingTasks').textContent = 
                taskSubmissions.filter(t => t.status === 'pending').length;
            document.getElementById('pendingDeposits').textContent = 
                depositRequests.filter(d => d.status === 'pending').length;
            document.getElementById('pendingWithdrawals').textContent = 
                withdrawRequests.filter(w => w.status === 'pending').length;
            
            // ‡¶ü‡ßÅ‡¶°‡ßá ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ
            const today = new Date().toDateString();
            const todayIncome = users.reduce((total, user) => {
                const userTodayIncome = (user.incomeHistory || [])
                    .filter(income => new Date(income.date).toDateString() === today)
                    .reduce((sum, income) => sum + income.amount, 0);
                return total + userTodayIncome;
            }, 0);
            document.getElementById('todayIncome').textContent = todayIncome;
        }
        
        // ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü
        function coinsToMoney(coins) {
            return coins / COIN_RATE;
        }
        
        // ‡¶∞‡¶ø‡¶∏‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø ‡¶≤‡ßã‡¶°
        function loadRecentActivity() {
            const container = document.getElementById('recentActivity');
            const activities = [];
            
            // ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø
            const depositRequests = JSON.parse(localStorage.getItem('depositRequests') || '[]');
            depositRequests.slice(-5).forEach(deposit => {
                activities.push({
                    type: 'deposit',
                    message: `${deposit.userName} ${deposit.amount} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®`,
                    date: deposit.submitDate,
                    status: deposit.status
                });
            });
            
            // ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø
            const withdrawRequests = JSON.parse(localStorage.getItem('withdrawRequests') || '[]');
            withdrawRequests.slice(-5).forEach(withdraw => {
                activities.push({
                    type: 'withdraw',
                    message: `${withdraw.userName} ${withdraw.coins} ‡¶ï‡¶Ø‡¶º‡ßá‡¶® ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®`,
                    date: withdraw.submitDate,
                    status: withdraw.status
                });
            });
            
            // ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶∂‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø
            const taskSubmissions = JSON.parse(localStorage.getItem('adminTaskSubmissions') || '[]');
            taskSubmissions.slice(-5).forEach(task => {
                activities.push({
                    type: 'task',
                    message: `${task.userName} ${task.taskName} ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®`,
                    date: task.submissionDate,
                    status: task.status
                });
            });
            
            // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã
            activities.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            let html = '';
            activities.slice(0, 10).forEach(activity => {
                const icons = {
                    'deposit': 'üí∞',
                    'withdraw': 'üí≥',
                    'task': 'üìã'
                };
                
                const statusColors = {
                    'pending': '#f39c12',
                    'approved': '#4CAF50',
                    'rejected': '#e74c3c'
                };
                
                html += `
                    <div style="display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #f8f9fa;">
                        <div style="font-size: 1.5rem; margin-right: 15px;">
                            ${icons[activity.type] || 'üìù'}
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500;">${activity.message}</div>
                            <div style="font-size: 0.8rem; color: #666;">${activity.date}</div>
                        </div>
                        <div style="padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; background: ${statusColors[activity.status]}; color: white;">
                            ${activity.status}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html || '<p style="text-align: center; color: #666; padding: 20px;">‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø ‡¶®‡ßá‡¶á</p>';
        }
        
        // ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü
        function adminLogout() {
            if (confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
                localStorage.removeItem('currentAdmin');
                alert('‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶∏‡¶´‡¶≤!');
                window.location.href = 'admin-login.html';
            }
        }
    </script>
</body>
</html>
